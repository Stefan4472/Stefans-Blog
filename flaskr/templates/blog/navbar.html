<!-- Displays site navbar. See https://getbootstrap.com/docs/4.3/examples/navbars/# -->
<nav class="navbar navbar-expand-lg navbar-light bg-light rounded mb-2 justify-content-center">
    <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#site-nav"
        aria-controls="site-nav"
        aria-expanded="false"
        aria-label="Toggle navigation"
    >
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="site-nav" style="max-width: 1140px">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item {% if active_page == 'index' %}active{% endif %}">
                <a class="nav-link" href="{{ url_for('blog.index') }}">Home</a>
            </li>
            <li class="nav-item {% if active_page == 'posts' %}active{% endif %}">
                <a class="nav-link" href="{{ url_for('blog.posts_page') }}">Posts</a>
            </li>
            <li class="nav-item {% if active_page == 'portfolio' %}active{% endif %}">
                <a class="nav-link" href="{{ url_for('blog.portfolio_page') }}">Portfolio</a>
            </li>
            <li class="nav-item {% if active_page == 'about' %}active{% endif %}">
                <a class="nav-link" href="{{ url_for('blog.about_page') }}">About</a>
            </li>
        </ul>
        <form action="javascript:searchInput();" class="form-inline my-2 my-md-0">
            <input id="searchInput" class="form-control" type="text" placeholder="Search" aria-label="Search">
        </form>
    </div>
</nav>

<!--Called when the user hits Enter in the search box.
    Form a URL from the search input and redirect the user to the results page. -->
<script>
function searchInput() {
    let search_element = document.getElementById("searchInput");
    let search_string = search_element.value;
    if (search_string !== '' && search_string !== undefined) {
        search_element.value = "";
        window.location.href = '/search?query=' + search_string;
    }
}
</script>