{% extends "blog/base_template.html" %}
{% import "blog/macros.html" as macros %}

{% block content %}

<!-- The posts being shown are for a specific query -->
{% if search_query %}
	<p><em>This uses a search engine that I wrote myself!</em></p>
	<h2>Showing {{ posts|length }} results for "{{ search_query }}":</h2>
	{% for post in posts %}
		{{ macros.post_widget(post, tags[post['post_slug']]) }}  <!-- TODO: Provide rank and score of each result-->
	{% endfor %}
{% else %}  
	<!-- No search query: just display the posts -->
	{% for post in posts %}
		{{ macros.post_widget(post, tags[post['post_slug']]) }}
	{% endfor %}
{% endif %}

{% endblock %}
