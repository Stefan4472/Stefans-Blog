{% extends "blog/base_template.html" %}

{% block content %}
<!-- Restrict the width to 800px to keep things compact. -->
<div style="max-width: 800px; margin: auto">
    <h1>{{ post.title }}</h1>
    <div class="d-inline">
        {% for tag in post.tags %}
        <span class="badge badge-primary tag" style="background-color: {{ tag.color }};">
            <a
                    class="link-override"
                    href="{{ url_for('blog.tag_view', slug=tag.slug) }}"
            >{{ tag.name }}</a>
        </span>
        {% endfor %}
    </div>
    <p class="mt-2 post-date">Posted on {{ post.publish_date.strftime('%B %d, %Y') }} by {{ post.author.name }}</p>
    <hr>
    <div id="post-content" class="post-content">
        {{ post.render_html()|safe }}
    </div>
    <hr/>
    <!-- Tease the "next" and "previous" posts. -->
    <div class="row">
        <div class="col-6">
            {% if prev_post %}
            {# TODO: Some kind of rendering function. This will also mean we don't need to send `next_post` and
            `prev_post` as template args#}
            <p>Previous Post: <a href="{{ url_for('blog.post_view', slug=prev_post.slug) }}">{{
                prev_post.title }}</a></p>
            {% endif %}
        </div>
        <div class="col-6">
            {% if next_post %}
            <p>Next Post: <a href="{{ url_for('blog.post_view', slug=next_post.slug) }}">{{
                next_post.title }}</a></p>
            {% endif %}
        </div>
    </div>

    {% include "blog/register_email.html" %}

</div>
{% endblock %}
